(function(a){var b={totalPages:9,liNums:9,activeClass:"active",firstPage:"首页",lastPage:"末页",prv:"«",next:"»",hasFirstPage:true,hasLastPage:true,hasPrv:true,hasNext:true,callBack:function(c){}};a.fn.Page=function(c){var d=a.extend(b,c);return this.each(function(){var j=a(this);var h=d.totalPages;var e=d.liNums;var g=d.activeClass;var r="";var k='<li><a href="javascript:" class="page_click '+g+'" topage="1">1</a></li>';if(h>1&&h<e+1){for(i=2;i<h+1;i++){r+='<li><a href="javascript:" class="page_click" topage="'+i+'">'+i+"</a></li>"}}else{if(h>e){for(i=2;i<e+1;i++){r+='<li><a href="javascript:" class="page_click" topage="'+i+'">'+i+"</a></li>"}}}var o="";if(d.hasNext){o+='<div class="next fr">'+d.next+"</div>"}if(d.hasFirstPage){o+='<div class="page_click first '+(h==1?"none":"")+'" topage="1">'+d.firstPage+"</div>"}o+='<ul class="pagingUl">'+k+r+"</ul>";if(d.hasLastPage){o+='<div class="page_click last '+(h==1?"none":"")+'" topage="'+h+'">'+d.lastPage+"</div>"}if(d.hasPrv){o+='<div class="prv fr">'+d.prv+"</div>"}j.html(o).off("click");j.on("click",".next",function(){var s=parseInt(a("."+g).html());var t,n;var l=e%2;if(l==0){t=e;n=true}else{if(l==1){t=(e+1);n=false}}if(s>=h){return}else{if(s>0&&s<=t/2){a("."+g).removeClass(g).parent().next().find("a").addClass(g)}else{if((s>h-t/2&&s<h&&n==false)||(s>h-t/2-1&&s<h&&n==true)){a("."+g).removeClass(g).parent().next().find("a").addClass(g)}else{a("."+g).removeClass(g).parent().next().find("a").addClass(g);q(s+1)}}}d.callBack(s+1)});j.on("click",".prv",function(){var l=parseInt(a("."+g).html());var n=p(e);if(l<=1){return}else{if((l>1&&l<=n/2)||(l>h-n/2&&l<h+1)){a("."+g).removeClass(g).parent().prev().find("a").addClass(g)}else{a("."+g).removeClass(g).parent().prev().find("a").addClass(g);q(l-1)}}d.callBack(l-1)});j.on("click",".first",function(){var l=parseInt(a("."+g).html());if(l<=1){return}d.callBack(1);m(0)});j.on("click",".last",function(){var l=parseInt(a("."+g).html());if(l>=h){return}d.callBack(h);if(h>e){f(e-1)}else{f(h-1)}});j.on("click","li",function(){var s=a(this);var l=parseInt(s.find("a").html());var n=p(e);d.callBack(l);if(h>e){if(l>h-n/2&&l<h+1){f((e-1)-(h-l))}else{if(l>0&&l<n/2){m(l-1)}else{q(l)}}}else{a("."+g).removeClass(g);s.find("a").addClass(g)}});function q(t){var s=p(e);var n=t-(s/2-1);var l="";for(i=0;i<e;i++){l+='<li><a href="javascript:" class="page_click" topage="'+(n+i)+'">'+(n+i)+"</a></li>"}j.find("ul").html(l);j.find("ul li").eq(s/2-1).find("a").addClass(g)}function m(l){var n="";if(h>e-1){for(i=0;i<e;i++){n+='<li><a href="javascript:" class="page_click" topage="'+(i+1)+'">'+(i+1)+"</a></li>"}}else{for(i=0;i<h;i++){n+='<li><a href="javascript:" class="page_click" topage="'+(i+1)+'">'+(i+1)+"</a></li>"}}j.find("ul").html(n);j.find("ul li").eq(l).find("a").addClass(g)}function f(l){var n="";if(h>e-1){for(i=h-(e-1);i<h+1;i++){n+='<li><a href="javascript:" class="page_click" topage="'+i+'">'+i+"</a></li>"}j.find("ul").html(n);j.find("ul li").eq(l).find("a").addClass(g)}else{for(i=0;i<h;i++){n+='<li><a href="javascript:" class="page_click" topage="'+(i+1)+'">'+(i+1)+"</a></li>"}j.find("ul").html(n);j.find("ul li").eq(l).find("a").addClass(g)}}function p(s){var l=s%2;if(l==0){return s}else{if(l==1){return(s+1)}}}})}})(jQuery);