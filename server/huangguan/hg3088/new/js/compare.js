var Compare=new Object;Compare={add:function(t,e,o){for(var i in this.data)if("function"!=typeof this.data[i]){if(this.data[i].t!=o)return void alert(goods_type_different.replace("%s",e));0}this.data[t]?alert(exist.replace("%s",e)):(this.data[t]={n:e,t:o},this.save(),this.init())},relocation:function(){if(""==this.compareBox.style.display){var t=.2*(Math.max(document.documentElement.scrollTop,document.body.scrollTop)-this.lastScrollY);t=0<t?Math.ceil(t):Math.floor(t),this.compareBox.style.top=parseInt(this.compareBox.style.top)+t+"px",this.lastScrollY=this.lastScrollY+t}},init:function(){this.data=new Object;var t=document.getCookie("compareItems");if(null!=t&&(this.data=t.parseJSON()),!this.compareBox){this.compareBox=document.createElement("DIV");var e=document.createElement("INPUT");this.compareList=document.createElement("UL"),this.compareBox.id="compareBox",this.compareBox.style.display="none",this.compareBox.style.top="200px",this.compareBox.align="center",this.compareList.id="compareList",e.type="button",e.value=button_compare,this.compareBox.appendChild(this.compareList),this.compareBox.appendChild(e),e.onclick=function(){var t=document.getCookie("compareItems").parseJSON(),e=document.location.href;e=e.substring(0,e.lastIndexOf("/")+1)+"compare.php";var o=0;for(var i in t)"function"!=typeof t[i]&&(e+=0==o?"?goods[]="+i:"&goods[]="+i,o++);o<2?alert(compare_no_goods):document.location.href=e},document.body.appendChild(this.compareBox)}this.compareList.innerHTML="";var o=this;for(var i in this.data)if("function"!=typeof this.data[i]){var a=document.createElement("LI"),s=document.createElement("SPAN");s.style.overflow="hidden",s.style.width="100px",s.style.height="20px",s.style.display="block",s.innerHTML=this.data[i].n,a.appendChild(s),a.style.listStyle="none";var n=document.createElement("IMG");n.src="themes/default/images/drop.gif",n.className=i,n.onclick=function(){document.getElementById("compareList").removeChild(this.parentNode),delete o.data[this.className],o.save(),o.init()},a.insertBefore(n,a.childNodes[0]),this.compareList.appendChild(a)}0<this.compareList.childNodes.length?(this.compareBox.style.display="",this.timer=window.setInterval(this.relocation.bind(this),50)):(this.compareBox.style.display="none",window.clearInterval(this.timer),this.timer=0)},save:function(){var t=new Date;t.setTime(t.getTime()+99999999),document.setCookie("compareItems",this.data.toJSONString())},lastScrollY:0};